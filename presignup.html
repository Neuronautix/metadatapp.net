<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pre-signup to MAPP</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/presignup.css">
</head>
<body>

    <div class="container">
        <div class="split-layout">
            <div class="image-pane">
                <!-- NOTE: Replace this src with your actual image path -->
                <img src="assets/images/hero-lab.jpg" alt="A modern science laboratory environment." class="hero-image">
            </div>

            <div class="form-pane">
                <div id="form-wrapper">
                    <div id="form-header">
                        <h1>Pre-signup to MAPP</h1>
                        <p class="subhead">Tell us about yourself</p>
                    </div>

                    <!-- NOTE: Replace PLACE_YOUR_ID_HERE with your Formspree endpoint ID -->
                    <form id="presignupForm" data-endpoint="https://formspree.io/f/xldwqebv" novalidate>
                        <div id="form-error-banner" role="alert" class="error-banner" hidden></div>

                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required autocomplete="email" aria-describedby="email-error">
                            <div id="email-error" class="error-message" role="alert"></div>
                        </div>

                        <div class="form-group">
                            <label for="role">Who are you?</label>
                            <select id="role" name="role" required aria-describedby="role-error">
                                <option value="researcher" selected>I am a researcher</option>
                                <option value="pi">PI / Group Leader</option>
                                <option value="student">Student</option>
                                <option value="technician">Technician / Staff</option>
                                <option value="vendor">Vendor / Commercial</option>
                                <option value="other">Other</option>
                            </select>
                            <div id="role-error" class="error-message" role="alert"></div>
                        </div>

                        <div class="form-group">
                            <label for="reason">Other reasons to signup (optional)</label>
                            <textarea id="reason" name="reason" maxlength="1000" aria-describedby="reason-error reason-counter"></textarea>
                            <div class="textarea-footer">
                                <div id="reason-error" class="error-message" role="alert"></div>
                                <small id="reason-counter" class="char-counter">0 / 1000</small>
                            </div>
                        </div>

                        <!-- Honeypot Field: Do not remove -->
                        <div class="honeypot-field" aria-hidden="true">
                            <label for="website">Website</label>
                            <input type="text" id="website" name="website" tabindex="-1" autocomplete="off">
                        </div>

                        <button type="submit" id="submit-button">
                            <span class="button-text">Signup</span>
                            <div class="spinner" hidden></div>
                        </button>

                        <p class="gdpr-notice">We only use your email to contact you about MAPP. You can unsubscribe anytime.</p>
                    </form>

                    <!--
                        ALTERNATIVE FORM INTEGRATIONS:
                        --------------------------------

                        1. EmailJS:
                           - Sign up at emailjs.com and get your Service ID, Template ID, and User ID.
                           - Include their script: <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
                           - In presignup.js, replace the fetch() call with:
                             emailjs.sendForm('YOUR_SERVICE_ID', 'YOUR_TEMPLATE_ID', this, 'YOUR_USER_ID')
                               .then(response => { ... }, error => { ... });

                        2. Google Forms:
                           - Create a Google Form with matching fields.
                           - Get the embed code: <iframe src="YOUR_GOOGLE_FORM_EMBED_URL" ...></iframe>
                           - You would lose the custom UI and validation. To style it, you'd need complex CSS overrides,
                             which is often brittle. The Formspree/JS approach is recommended for a custom look.
                    -->
                </div>

                <div id="success-panel" class="success-panel" hidden>
                    <svg class="success-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></svg>
                    <h2>Thanks! Weâ€™ll be in touch soon.</h2>
                    <p>You're on the list. We'll reach out with updates about MAPP.</p>
                    <a href="/" class="home-link">Back to Homepage</a>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/presignup.js"></script>
</body>
</html>